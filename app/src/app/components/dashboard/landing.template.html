<div fxLayout="column wrap" class="full-width full-height" fxLayoutAlign="start stretch" [fxShow]="true">
  <div fxLayout="row wrap" style="height:35%;width:100%;" fxLayoutAlign="space-evenly center" [fxShow]="true">
    <div fxLayout="row wrap" style="width: 45%; height: 90%; background-color: white; border-radius: 8px; padding: 4px" fxLayoutAlign="start stretch" [fxShow]="true">
      <div fxLayout="column wrap" style="width: 42%; height: 100%" fxLayoutAlign="start stretch" [fxShow]="true">
        <h4 style="color: gray; margin-top: 0">
          Accounts Overview</h4>
        <h5 style="color: gray; " class="no-margin-lebo">
          Annual Expenditure:</h5>
        <h3 style="margin-bottom: 0; color: red">
          R {{page.annualAccumulatedExpenses.toFixed(2)}}</h3>
      </div>
      <div fxLayout="column wrap" style="width: 50%; height: 100%" fxLayoutAlign="start stretch" [fxShow]="true">
        <div fxFlex="100">
          <canvas baseChart [datasets]="page.dataSet" [labels]="page.barChartLabels" type="line"></canvas>
        </div>
      </div>
    </div>
    <div fxLayout="row wrap" style="width: 45%; height: 90%; background-color: white; border-radius: 8px; padding: 10px" fxLayoutAlign="start stretch" [fxShow]="true">
      <div fxLayout="column wrap" style="width: 60%; height: 100%" fxLayoutAlign="start stretch" [fxShow]="true">
        <h4 style="color: gray; " class="no-margin-lebo">
          Monthly Budget: <span *ngIf="page.currentMonthBugetAmt !== undefined else notSet"> R {{page.currentMonthBugetAmt.toFixed(2)}}</span>
          <ng-template #notSet>
            <button (click)="openDialog()" class="not-set-btn-tii">Click here to set</button>
          </ng-template>
        </h4>
        <h6 style="color: lightgray; " class="no-margin-lebo">
          {{page.thisMonthRangeDate}}
        </h6><span style="margin-bottom: 0; color: gray">
                <ul>
    <li *ngIf="page.currentMonthBugetAmt !== undefined">Expenses: R {{page.sumTotal.toFixed(2)}} </li>
    <li *ngIf="page.currentMonthBugetAmt !== undefined ">Savings: R {{page.savings.toFixed(2)}} </li>
</ul></span>
      </div>
      <div fxLayout="column wrap" style="width: 40%; height: 100%" class="canvas-tii" fxLayoutAlign="start stretch" [fxShow]="true">
        <div fxFlex="100">
          <canvas baseChart [datasets]="page.doughnutChartData" [labels]="page.doughnutChartLabels" [legend]="false" type="doughnut"></canvas>
        </div>
      </div>
    </div>
  </div>
  <div fxLayout="column wrap" style="padding: 10px; height:20%" fxLayoutAlign="start stretch" [fxShow]="true">
    <div fxLayout="column wrap" fxLayoutAlign="start stretch" [fxShow]="true">
      <div fxLayout="row wrap" fxLayoutAlign="space-between stretch" [fxShow]="true">
        <div class="color-dark-gray">
          Recent Transaction</div><button mat-button (click)="openForm()">+ Add New Transaction</button>
      </div>
      <div fxLayout="column wrap" class="table-scroll-kim" fxLayoutAlign="start space-around" [fxShow]="true">
        <div fxLayout="column" style="width:100%;">
          <table mat-table [dataSource]="page?.tableData" id="table-table" matSort class="table-width-fix">
            <tr mat-header-row *matHeaderRowDef="[&apos;username | titlecase&apos;,&apos;shopName | titlecase&apos;,&apos;6b410a85-072c-f7b1-b7fd-f9fbc0815fd7&apos;]"></tr>
            <tr mat-row (click)="selected(row)" *matRowDef="let row; columns: [&apos;username | titlecase&apos;,&apos;shopName | titlecase&apos;,&apos;6b410a85-072c-f7b1-b7fd-f9fbc0815fd7&apos;];"></tr>

            <ng-container matColumnDef="username | titlecase">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
              <td mat-cell *matCellDef="let table; let i = index;">{{table.username | titlecase }}</td>
            </ng-container>

            <ng-container matColumnDef="shopName | titlecase">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Shop Name</th>
              <td mat-cell *matCellDef="let table; let i = index;">{{table.shopName | titlecase}}</td>
            </ng-container>

            <ng-container matColumnDef="6b410a85-072c-f7b1-b7fd-f9fbc0815fd7">
              <th mat-header-cell *matHeaderCellDef>Date Uploaded</th>
              <td mat-cell *matCellDef="let table; let i = index;">
                <div>
                  {{table[&apos;Date-Uploaded&apos;] | date}}
                </div>
              </td>
            </ng-container>
          </table>
          <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 100]">
          </mat-paginator>

        </div>
        <div fxLayout="column wrap" fxLayoutAlign="start stretch" [fxShow]="true"></div>
      </div>
    </div>
    <div fxLayout="row wrap" fxLayoutAlign="start stretch" [fxShow]="true"></div>
  </div>
</div>