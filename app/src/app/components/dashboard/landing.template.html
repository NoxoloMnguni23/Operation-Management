<div fxLayout="column wrap" class="full-width full-height" fxLayoutAlign="start stretch" [fxShow]="true">
  <div fxLayout="row wrap" style="height:35%;width:100%;" fxLayoutAlign="space-evenly center" [fxShow]="true">
    <div fxLayout="row wrap" style="width: 45%; height: 90%; background-color: white; border-radius: 8px; padding: 4px" fxLayoutAlign="start stretch" [fxShow]="true">
      <div fxLayout="column wrap" style="width: 42%; height: 100%" fxLayoutAlign="start stretch" [fxShow]="true">
        <h4 style="color: gray; margin-top: 0">
          Accounts Overview</h4>
        <h5 style="color: gray; " class="no-margin-lebo">
          Annual Expenditure:</h5>
        <h3 style="margin-bottom: 0; color: red">
          R {{page.annualAccumulatedExpenses.toFixed(2)}}</h3>
      </div>
      <div fxLayout="column wrap" style="width: 50%; height: 100%" fxLayoutAlign="start stretch" [fxShow]="true">
        <div fxFlex="100">
          <canvas baseChart [datasets]="page.dataSet" [labels]="page.barChartLabels" type="line"></canvas>
        </div>
      </div>
    </div>
    <div fxLayout="row wrap" style="width: 45%; height: 90%; background-color: white; border-radius: 8px; padding: 10px" fxLayoutAlign="start stretch" [fxShow]="true">
      <div fxLayout="column wrap" style="width: 60%; height: 100%" fxLayoutAlign="start stretch" [fxShow]="true">
        <h4 style="color: gray; " class="no-margin-lebo">
          Monthly Budget: <span *ngIf="page.currentMonthBugetAmt !== undefined else notSet"> R {{page.currentMonthBugetAmt.toFixed(2)}}</span>
          <ng-template #notSet>
            <button (click)="openDialog()" class="not-set-btn-tii">Click here to set</button>
          </ng-template>
        </h4>
        <h6 style="color: lightgray; " class="no-margin-lebo">
          {{page.thisMonthRangeDate}}
        </h6><span style="margin-bottom: 0; color: gray">
                <ul>
    <li *ngIf="page.currentMonthBugetAmt !== undefined">Expenses: R {{page.sumTotal.toFixed(2)}} </li>
    <li *ngIf="page.currentMonthBugetAmt !== undefined ">Savings: R {{page.savings.toFixed(2)}} </li>
</ul></span>
      </div>
      <div fxLayout="column wrap" style="width: 40%; height: 100%" class="canvas-tii" fxLayoutAlign="start stretch" [fxShow]="true">
        <div fxFlex="100">
          <canvas baseChart [datasets]="page.doughnutChartData" [labels]="page.doughnutChartLabels" [legend]="false" type="doughnut"></canvas>
        </div>
      </div>
    </div>
  </div>
  <div fxLayout="column wrap" style="padding: 10px; height:20%" fxLayoutAlign="start stretch" [fxShow]="true">
    <div fxLayout="column wrap" fxLayoutAlign="start stretch" [fxShow]="true">
      <div fxLayout="column wrap" fxLayoutAlign="start space-around" [fxShow]="true">
        <div fxLayout="row wrap" fxLayoutAlign="space-between stretch" [fxShow]="true">
          <div class="color-dark-gray">
            Recent Transaction</div><button mat-button (click)="openForm()">+ Add New Transaction</button>
        </div>
        <div fxLayout="column" style="width:150%;">

          <div fxLayout="row" fxLayoutAlign="end">
            <div fxLayout="column" fxFlex="end">
              <mat-form-field fxFlex="100">
                <input matInput (keyup)="onFilter_2($event)" placeholder="Search">
              </mat-form-field>
            </div>
          </div>
          <table mat-table [dataSource]="page?.tableData" id="table-table" matSort class="table-width-fix">
            <tr mat-header-row *matHeaderRowDef="[&apos;Person | titlecase&apos;,&apos;shopName | titlecase&apos;,&apos;dateUploaded&apos;,&apos;32275084-3fdf-1c5f-b6eb-0f05044d99cc&apos;]"></tr>
            <tr mat-row *matRowDef="let row; columns: [&apos;Person | titlecase&apos;,&apos;shopName | titlecase&apos;,&apos;dateUploaded&apos;,&apos;32275084-3fdf-1c5f-b6eb-0f05044d99cc&apos;];"></tr>

            <ng-container matColumnDef="Person | titlecase">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
              <td mat-cell *matCellDef="let table; let i = index;">{{table.Person | titlecase }}</td>
            </ng-container>

            <ng-container matColumnDef="shopName | titlecase">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Shop Name</th>
              <td mat-cell *matCellDef="let table; let i = index;">{{table.shopName | titlecase}}</td>
            </ng-container>

            <ng-container matColumnDef="dateUploaded">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Uploaded</th>
              <td mat-cell *matCellDef="let table; let i = index;">{{table.dateUploaded}}</td>
            </ng-container>

            <ng-container matColumnDef="32275084-3fdf-1c5f-b6eb-0f05044d99cc">
              <th mat-header-cell *matHeaderCellDef>View Receipt</th>
              <td mat-cell *matCellDef="let table; let i = index;"><mat-icon>visibility</mat-icon></td>
            </ng-container>
          </table>
          <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]">
          </mat-paginator>

        </div>
      </div>
    </div>
    <div fxLayout="row wrap" fxLayoutAlign="start stretch" [fxShow]="true"></div>
  </div>
</div>